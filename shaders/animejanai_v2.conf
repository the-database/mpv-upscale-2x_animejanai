# ===============================================================================================
# This configuration file allows setup of up to 9 slots which customize the
# AnimeJaNai VapourSynth chain. Each slot can be activated with a different key binding in mpv.
# Each slot may define multiple chains, where the desired chain is activated conditionally
# depending on the resolution and frame rate of the video being played. If the video does not
# fit the conditions to activate any chain then none will be activated for that video.
#
# Most typically different slots can be used to run different upscaling models,
# but the chain is fully customizable to allow handling a variety of
# anime sources as well as a variety of hardware with different performance levels.
# The first 6 slots have been preconfigured with some suggested settings for handling various
# anime sources, but advanced users may customize the settings of any slot to suit their needs.
# A chain runs the following steps. Any step can be enabled or disabled:
# 1. Resize the video.
# 2. Apply an ONNX model of any scale such as 1x, 2x, or 4x.
# 3. Repeat steps 1 and 2 with as many models as desired.
# 4. Interpolate video frames with RIFE 4.6.
# ===============================================================================================

# ===============================================================================================
# Global settings
# ===============================================================================================
[global]

# Enable logging to view which models are being used and which resolutions they are scaling from.
# The log file is created at animejanai_v2.log in the same directory as this config file.
logging=yes

# ===============================================================================================
# Slot 1
# Upscale with up to 4x with AnimeJaNai V2 with maximum quality.
# ===============================================================================================
[slot_1]

# Define as many chains as needed

# Chain 1 for SD content (video height between 0-720): 2x Compact + 2x SuperUltraCompact

# Minimum video height to activate this chain.
chain_1_min_height=0
# Maximum video height to activate this chain.
chain_1_max_height=720
# Minimum video fps to activate this chain.
chain_1_min_fps=0
# Maximum video fps to activate this chain.
chain_1_max_fps=24
# Resize the video to this height before running the first model, set to 0 to disable.
chain_1_model_1_resize_height_before_upscale=0
# Resize the video by this factor before running the first model. The video width and height are divided by this number,
# so a value of 1 performs no resize, and a value of 2 cuts the width and height of the video in half.
chain_1_model_1_resize_factor_before_upscale=1.0
# First model to run.
chain_1_model_1_name=2x_AnimeJaNai_V1.79_Compact_54400-fp16
# Resize the video to this height before running the second model, set to 0 to disable.
chain_1_model_2_resize_height_before_upscale=0
# Resize the video by this factor before running the first model. The video width and height are divided by this number,
# so a value of 1 performs no resize, and a value of 2 cuts the width and height of the video in half.
chain_1_model_2_resize_factor_before_upscale=1.0
# Second model to run.
chain_1_model_2_name=2x_AnimeJaNai_V1.79_SuperUltraCompact-fp16-net_g_58400
# Whether or not to run RIFE interpolation.
chain_1_rife=no

# Chain 2 for HD content (video height between 720-1080): 2x Ultracompact

# Minimum video height to activate this chain.
chain_2_min_height=720
# Maximum video height to activate this chain.
chain_2_max_height=1080
# Minimum video fps to activate this chain.
chain_2_min_fps=0
# Maximum video fps to activate this chain.
chain_2_max_fps=24
# Resize the video to this height before running the first model, set to 0 to disable.
chain_2_model_1_resize_height_before_upscale=1080
# First model to run.
chain_2_model_1_name=2x_AnimeJaNai_V1.79_UltraCompact-fp16-net_g_32000
# Whether or not to run RIFE interpolation.
chain_2_rife=no

# End of Slot 1 config

# ===============================================================================================
# Slot 2
# Upscale up to 4x with AnimeJaNai V2. Identical to slot 1 for 1080p video, but trades some
# quality to increase performance on videos less than 1080p.
# ===============================================================================================
[slot_2]

# Define as many chains as needed

# Chain 1 for SD content (video height between 0-720): 2x Compact + 2x UltraCompact

# Minimum video height to activate this chain.
chain_1_min_height=0
# Maximum video height to activate this chain.
chain_1_max_height=720
# Minimum video fps to activate this chain.
chain_1_min_fps=0
# Maximum video fps to activate this chain.
chain_1_max_fps=24
# Resize the video to this height before running the first model, set to 0 to disable.
chain_1_model_1_resize_height_before_upscale=0
# Resize the video by this factor before running the first model. The video width and height are divided by this number,
# so a value of 1 performs no resize, and a value of 2 cuts the width and height of the video in half.
chain_1_model_1_resize_factor_before_upscale=1.0
# First model to run.
chain_1_model_1_name=2x_AnimeJaNai_V1.79_Compact_54400-fp16
# Resize the video to this height before running the second model, set to 0 to disable.
chain_1_model_2_resize_height_before_upscale=0
# Resize the video by this factor before running the first model. The video width and height are divided by this number,
# so a value of 1 performs no resize, and a value of 2 cuts the width and height of the video in half.
chain_1_model_2_resize_factor_before_upscale=1.0
# Second model to run.
chain_1_model_2_name=2x_AnimeJaNai_V1.79_SuperUltraCompact-fp16-net_g_58400
# Whether or not to run RIFE interpolation.
chain_1_rife=no

# Chain 2 for HD content (video height between 720-1080): 2x Ultracompact

# Minimum video height to activate this chain.
chain_2_min_height=720
# Maximum video height to activate this chain.
chain_2_max_height=1080
# Minimum video fps to activate this chain.
chain_2_min_fps=0
# Maximum video fps to activate this chain.
chain_2_max_fps=24
# Resize the video to this height before running the first model, set to 0 to disable.
chain_2_model_1_resize_height_before_upscale=0
# First model to run.
chain_2_model_1_name=2x_AnimeJaNai_V1.79_UltraCompact-fp16-net_g_32000
# Whether or not to run RIFE interpolation.
chain_2_rife=no


# End of Slot 2 config


# ===============================================================================================
# Slot 3
# Upscale up to 4x with AnimeJaNai V2, downscaling all videos to 480p before upscaling. This
# should be used on blurry digital upscales where the default upscaling settings don't produce
# a sharp enough result. Avoid using with high quality source videos.
# ===============================================================================================
[slot_3]

# Chain 1 for all content

# Resize the video to this height before running the first model, set to 0 to disable.
chain_1_model_1_resize_height_before_upscale=480
# Resize the video by this factor before running the first model. The video width and height are divided by this number,
# so a value of 1 performs no resize, and a value of 2 cuts the width and height of the video in half.
chain_1_model_1_resize_factor_before_upscale=1.0
# Filename of the first model to run, excluding extension.
chain_1_model_1_name=2x_AnimeJaNai_V1.79_Compact_54400-fp16
# Resize the video to this height before running the second model, set to 0 to disable.
chain_1_model_2_resize_height_before_upscale=0
# Resize the video by this factor before running the first model. The video width and height are divided by this number,
# so a value of 1 performs no resize, and a value of 2 cuts the width and height of the video in half.
chain_1_model_2_resize_factor_before_upscale=1.0
# Filename of the second model to run, excluding extension.
chain_1_model_2_name=2x_AnimeJaNai_V1.79_UltraCompact_net_g_32000
# Whether or not to run RIFE interpolation.
chain_1_rife=no

# End of Slot 3 config

# ===============================================================================================
# Slot 4
# Upscale up to 4x with AnimeJaNai V2, downscaling the video to 360p before upscaling. This
# should be used on extremely blurry digital upscales where the default upscaling settings don't
# produce a sharp enough result. Avoid using with high quality source videos.
# ===============================================================================================
[slot_4]

# Chain 1 for all content

# Resize the video to this height before running the first model, set to 0 to disable.
chain_1_model_1_resize_height_before_upscale=360
# Resize the video by this factor before running the first model. The video width and height are divided by this number,
# so a value of 1 performs no resize, and a value of 2 cuts the width and height of the video in half.
chain_1_model_1_resize_factor_before_upscale=1.0
# Filename of the first model to run, excluding extension.
chain_1_model_1_name=2x_AnimeJaNai_V1.79_Compact_54400-fp16
# Resize the video to this height before running the second model, set to 0 to disable.
chain_1_model_2_resize_height_before_upscale=0
# Resize the video by this factor before running the first model. The video width and height are divided by this number,
# so a value of 1 performs no resize, and a value of 2 cuts the width and height of the video in half.
chain_1_model_2_resize_factor_before_upscale=1.0
# Filename of the second model to run, excluding extension.
chain_1_model_2_name=2x_AnimeJaNai_V1.79_UltraCompact_net_g_32000
# Whether or not to run RIFE interpolation.
chain_1_rife=no

# End of Slot 4 config

# ===============================================================================================
# Slot 5
# Upscale SD content only up to 2x with AnimeJaNai V2 SuperUltraCompact, and then
# apply RIFE interpolation.
# ===============================================================================================
[slot_5]

# Chain 1 for SD content

# Minimum video height to activate this chain.
chain_1_min_height=0
# Maximum video height to activate this chain.
chain_1_max_height=480
# Minimum video fps to activate this chain.
chain_1_min_fps=0
# Maximum video fps to activate this chain.
chain_1_max_fps=30
# Resize the video to this height before running the first model, set to 0 to disable.
chain_1_model_1_resize_height_before_upscale=0
# Resize the video by this factor before running the first model. The video width and height are divided by this number,
# so a value of 1 performs no resize, and a value of 2 cuts the width and height of the video in half.
chain_1_model_1_resize_factor_before_upscale=1.0
# Filename of the first model to run, excluding extension.
chain_1_model_1_name=2x_AnimeJaNai_V1.79_SuperUltraCompact-fp16-net_g_58400
# Whether or not to run RIFE interpolation.
chain_1_rife=yes

# End of Slot 5 config

# ===============================================================================================
# Slot 7
# RIFE interpolation only, no AnimeJaNai upscaling.
# ===============================================================================================
[slot_7]

# Chain 1 for all content
# Whether or not to run RIFE interpolation.
chain_1_rife=yes

# End of Slot 7 config

# ===============================================================================================
# Slot 8
# Enter description here.
# ===============================================================================================
[slot_8]



# End of Slot 8 config

# ===============================================================================================
# Slot 9
# Enter description here.
# ===============================================================================================
[slot_9]



# End of Slot 9 config

# ===============================================================================================
# Benchmarking slots
# The below slots are unused by mpv and are for benchmarking purposes only.
# ===============================================================================================
[slot_10]
# Upscale Compact 4x
# Chain 1 for SD content (video height between 0-720): 2x UltraCompact + 2x SuperUltraCompact
chain_1_min_height=0
chain_1_max_height=720
chain_1_model_1_name=2x_AnimeJaNai_V1.79_Compact_54400-fp16
chain_1_model_2_name=2x_AnimeJaNai_V1.79_Compact_54400-fp16

# Chain 2 for HD content (video height between 720-1080): 2x SuperUltraCompact
chain_2_min_height=720
chain_2_max_height=1080
chain_2_model_1_name=2x_AnimeJaNai_V1.79_Compact_54400-fp16

[slot_11]
# Upscale Compact 2x, UltraCompact 2x

# Chain 1 for SD content (video height between 0-720): 2x Compact + 2x UltraCompact
chain_1_min_height=0
chain_1_max_height=720
chain_1_model_1_name=2x_AnimeJaNai_V1.79_Compact_54400-fp16
chain_1_model_2_name=2x_AnimeJaNai_V1.79_UltraCompact-fp16-net_g_32000

# Chain 2 for HD content (video height between 720-1080): 2x Ultracompact
chain_2_min_height=720
chain_2_max_height=1080
chain_2_model_1_name=2x_AnimeJaNai_V1.79_UltraCompact-fp16-net_g_32000

[slot_12]
# Upscale Compact 2x, SuperUltraCompact 2x
# Chain 1 for SD content (video height between 0-720): 2x Compact + 2x SuperUltraCompact
chain_1_min_height=0
chain_1_max_height=720
chain_1_model_1_name=2x_AnimeJaNai_V1.79_Compact_54400-fp16
chain_1_model_2_name=2x_AnimeJaNai_V1.79_SuperUltraCompact-fp16-net_g_58400

# Chain 2 for HD content (video height between 720-1080): 2x SuperUltraCompact
chain_2_min_height=720
chain_2_max_height=1080
chain_2_model_1_name=2x_AnimeJaNai_V1.79_SuperUltraCompact-fp16-net_g_58400

[slot_13]
# Upscale Compact 2x only
# Chain 1 for all content
chain_1_model_1_name=2x_AnimeJaNai_V1.79_Compact_54400-fp16

[slot_14]
# Upscale UltraCompact 4x
# Chain 1 for SD content (video height between 0-720): 2x Compact + 2x UltraCompact
chain_1_min_height=0
chain_1_max_height=720
chain_1_model_1_name=2x_AnimeJaNai_V1.79_UltraCompact-fp16-net_g_32000
chain_1_model_2_name=2x_AnimeJaNai_V1.79_UltraCompact-fp16-net_g_32000

# Chain 2 for HD content (video height between 720-1080): 2x Ultracompact
chain_2_min_height=720
chain_2_max_height=1080
chain_2_model_1_name=2x_AnimeJaNai_V1.79_UltraCompact-fp16-net_g_32000

[slot_15]
# Upscale UltraCompact 2x, SuperUltraCompact 2x
# Chain 1 for SD content (video height between 0-720): 2x UltraCompact + 2x SuperUltraCompact
chain_1_min_height=0
chain_1_max_height=720
chain_1_model_1_name=2x_AnimeJaNai_V1.79_UltraCompact-fp16-net_g_32000
chain_1_model_2_name=2x_AnimeJaNai_V1.79_SuperUltraCompact-fp16-net_g_58400

# Chain 2 for HD content (video height between 720-1080): 2x SuperUltraCompact
chain_2_min_height=720
chain_2_max_height=1080
chain_2_model_1_name=2x_AnimeJaNai_V1.79_SuperUltraCompact-fp16-net_g_58400

[slot_16]
# Upscale UltraCompact 2x only
chain_1_model_1_name=2x_AnimeJaNai_V1.79_UltraCompact-fp16-net_g_32000

[slot_17]
# Upscale SuperUltraCompact 4x
# Chain 1 for SD content (video height between 0-720): 2x UltraCompact + 2x SuperUltraCompact
chain_1_min_height=0
chain_1_max_height=720
chain_1_model_1_name=2x_AnimeJaNai_V1.79_SuperUltraCompact-fp16-net_g_58400
chain_1_model_2_name=2x_AnimeJaNai_V1.79_SuperUltraCompact-fp16-net_g_58400

# Chain 2 for HD content (video height between 720-1080): 2x SuperUltraCompact
chain_2_min_height=720
chain_2_max_height=1080
chain_2_model_1_name=2x_AnimeJaNai_V1.79_SuperUltraCompact-fp16-net_g_58400

[slot_18]
# Upscale SuperUltraCompact 2x only
chain_1_model_1_name=2x_AnimeJaNai_V1.79_SuperUltraCompact-fp16-net_g_58400
